<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>茶言觀色·客戶流失風險評估器</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="logo">
                <i class="fas fa-leaf"></i>
                <h1>茶言觀色·客戶流失風險評估器</h1>
            </div>
            <p class="subtitle">Tea Observation Customer Churn Risk Assessor</p>
            <p class="description">幫助茶飲店管理層快速評估客戶流失風險，提供數據驅動的留客建議</p>
        </header>

        <main class="main-content">
            <div class="assessment-container">
                <section class="input-section">
                    <h2><i class="fas fa-edit"></i> 客戶資料輸入</h2>
                    <p class="section-description">請輸入客戶的四個關鍵指標進行風險評估</p>
                    
                    <form id="risk-assessment-form">
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="age">
                                    <i class="fas fa-user"></i> 年齡 (Age)
                                    <span class="tooltip">
                                        <i class="fas fa-info-circle"></i>
                                        <span class="tooltip-text">範圍：18-80歲</span>
                                    </span>
                                </label>
                                <div class="input-with-unit">
                                    <input type="number" id="age" name="age" min="18" max="80" value="30" required>
                                    <span class="unit">歲</span>
                                </div>
                                <div class="range-slider">
                                    <input type="range" id="age-slider" min="18" max="80" value="30" class="slider">
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="monthly-visits">
                                    <i class="fas fa-calendar-alt"></i> 每月到訪次數 (Monthly Visits)
                                    <span class="tooltip">
                                        <i class="fas fa-info-circle"></i>
                                        <span class="tooltip-text">範圍：0-30次/月</span>
                                    </span>
                                </label>
                                <div class="input-with-unit">
                                    <input type="number" id="monthly-visits" name="monthly-visits" min="0" max="30" value="5" required>
                                    <span class="unit">次/月</span>
                                </div>
                                <div class="range-slider">
                                    <input type="range" id="visits-slider" min="0" max="30" value="5" class="slider">
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="days-since-last-visit">
                                    <i class="fas fa-clock"></i> 最近一次到訪天數 (Days Since Last Visit)
                                    <span class="tooltip">
                                        <i class="fas fa-info-circle"></i>
                                        <span class="tooltip-text">範圍：0-365天</span>
                                    </span>
                                </label>
                                <div class="input-with-unit">
                                    <input type="number" id="days-since-last-visit" name="days-since-last-visit" min="0" max="365" value="15" required>
                                    <span class="unit">天</span>
                                </div>
                                <div class="range-slider">
                                    <input type="range" id="days-slider" min="0" max="365" value="15" class="slider">
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="satisfaction-score">
                                    <i class="fas fa-star"></i> 滿意度評分 (Satisfaction Score)
                                    <span class="tooltip">
                                        <i class="fas fa-info-circle"></i>
                                        <span class="tooltip-text">5分制：1=非常不滿意，5=非常滿意</span>
                                    </span>
                                </label>
                                <div class="satisfaction-stars">
                                    <div class="stars-container">
                                        <div class="star" data-value="1">1</div>
                                        <div class="star" data-value="2">2</div>
                                        <div class="star" data-value="3">3</div>
                                        <div class="star" data-value="4">4</div>
                                        <div class="star active" data-value="5">5</div>
                                    </div>
                                    <div class="score-labels">
                                        <span>非常不滿意</span>
                                        <span>非常滿意</span>
                                    </div>
                                </div>
                                <input type="hidden" id="satisfaction-score" name="satisfaction-score" value="5">
                            </div>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-chart-line"></i> 評估風險
                            </button>
                            <button type="button" id="reset-btn" class="btn btn-secondary">
                                <i class="fas fa-redo"></i> 重設
                            </button>
                        </div>
                    </form>
                </section>

                <section class="result-section" id="result-section">
                    <h2><i class="fas fa-chart-pie"></i> 風險評估結果</h2>
                    <p class="section-description">根據輸入資料計算的客戶流失風險分析</p>
                    
                    <div class="result-cards">
                        <div class="result-card risk-level-card">
                            <div class="card-header">
                                <h3><i class="fas fa-exclamation-triangle"></i> 風險等級</h3>
                            </div>
                            <div class="card-content">
                                <div class="risk-indicator" id="risk-indicator">
                                    <div class="risk-dot low-risk"></div>
                                    <span class="risk-text">低風險</span>
                                </div>
                                <div class="risk-description" id="risk-description">
                                    客戶忠誠度高，流失可能性低
                                </div>
                            </div>
                        </div>

                        <div class="result-card probability-card">
                            <div class="card-header">
                                <h3><i class="fas fa-percentage"></i> 流失機率</h3>
                            </div>
                            <div class="card-content">
                                <div class="probability-display">
                                    <div class="probability-circle">
                                        <svg width="120" height="120" viewBox="0 0 120 120">
                                            <circle class="probability-bg" cx="60" cy="60" r="54" stroke-width="12"></circle>
                                            <circle class="probability-fill low-risk" cx="60" cy="60" r="54" stroke-width="12" 
                                                    stroke-dasharray="339.292" stroke-dashoffset="288.398"></circle>
                                            <text class="probability-text" x="60" y="65" text-anchor="middle">15%</text>
                                        </svg>
                                    </div>
                                    <div class="probability-details">
                                        <p>基於數據模型計算</p>
                                        <p class="probability-note">整體平均流失率：24.9%</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="result-card recommendations-card">
                            <div class="card-header">
                                <h3><i class="fas fa-lightbulb"></i> 行動建議</h3>
                            </div>
                            <div class="card-content">
                                <ul class="recommendations-list" id="recommendations-list">
                                    <li><i class="fas fa-check-circle"></i> 維持現有服務品質</li>
                                    <li><i class="fas fa-check-circle"></i> 提供VIP專屬優惠</li>
                                    <li><i class="fas fa-check-circle"></i> 邀請參與新品試飲</li>
                                    <li><i class="fas fa-check-circle"></i> 定期發送關懷訊息</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="risk-factors">
                        <h3><i class="fas fa-chart-bar"></i> 風險因素分析</h3>
                        <div class="factors-grid">
                            <div class="factor">
                                <div class="factor-label">最近到訪天數</div>
                                <div class="factor-bar">
                                    <div class="factor-fill low-risk" style="width: 20%"></div>
                                </div>
                                <div class="factor-value">15天</div>
                                <div class="factor-impact">影響程度：45%</div>
                            </div>
                            <div class="factor">
                                <div class="factor-label">滿意度評分</div>
                                <div class="factor-bar">
                                    <div class="factor-fill low-risk" style="width: 10%"></div>
                                </div>
                                <div class="factor-value">5分</div>
                                <div class="factor-impact">影響程度：30%</div>
                            </div>
                            <div class="factor">
                                <div class="factor-label">每月到訪次數</div>
                                <div class="factor-bar">
                                    <div class="factor-fill low-risk" style="width: 30%"></div>
                                </div>
                                <div class="factor-value">5次</div>
                                <div class="factor-impact">影響程度：15%</div>
                            </div>
                            <div class="factor">
                                <div class="factor-label">年齡</div>
                                <div class="factor-bar">
                                    <div class="factor-fill low-risk" style="width: 40%"></div>
                                </div>
                                <div class="factor-value">30歲</div>
                                <div class="factor-impact">影響程度：10%</div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>

            <section class="info-section">
                <div class="info-card">
                    <h3><i class="fas fa-info-circle"></i> 評估規則說明</h3>
                    <div class="rules-grid">
                        <div class="rule-card low-risk-rule">
                            <h4>低風險條件</h4>
                            <ul>
                                <li>最近到訪天數 < 30天</li>
                                <li>滿意度 ≥ 4分</li>
                                <li>每月到訪次數 ≥ 7次</li>
                            </ul>
                            <p class="rule-probability">流失機率：~15%</p>
                        </div>
                        <div class="rule-card medium-risk-rule">
                            <h4>中風險條件</h4>
                            <ul>
                                <li>最近到訪天數 30-60天</li>
                                <li>滿意度 = 3分</li>
                                <li>每月到訪次數 4-6次</li>
                            </ul>
                            <p class="rule-probability">流失機率：~28.5%</p>
                        </div>
                        <div class="rule-card high-risk-rule">
                            <h4>高風險條件</h4>
                            <ul>
                                <li>最近到訪天數 > 60天</li>
                                <li>滿意度 ≤ 2分</li>
                                <li>每月到訪次數 ≤ 3次</li>
                            </ul>
                            <p class="rule-probability">流失機率：~42%</p>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <footer class="footer">
            <p>茶言觀色·客戶流失風險評估器 v1.0 • 基於2026年2月數據分析</p>
            <p class="footer-note">本工具僅供參考，實際決策請結合業務經驗與市場狀況</p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>